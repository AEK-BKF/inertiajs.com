import dedent from 'dedent'
import Layout from '../components/Layout'
import TabbedCodeExamples from '../components/TabbedCodeExamples'

export default Layout
export const meta = {
  title: 'Pages',
  links: [
    { url: '#top', name: 'Introduction' },
    { url: '#creating-pages', name: 'Creating pages' },
    { url: '#creating-layouts', name: 'Creating layouts' },
  ],
}

# Pages

With Inertia, each page in your application has it's own controller and corresponding JavaScript component. This allows you to retrieve just the data necessary for that page, no API required.

## Creating pages

Pages are simply JavaScript components. There is nothing particularly special about them. Pages receive data from the controllers as props. Here's an example of a simple page component.

<TabbedCodeExamples
  examples={[
    {
      name: 'Vue',
      language: 'twig',
      code: dedent`
        <template>
          <layout title="Welcome">
            <h1>Welcome</h1>
            <p>Hello {{ user.name }}, welcome to your first Inertia app!</p>
          </layout>
        </template>\n
        <script>
          import Layout from '@/Shared/Layout'\n
          export default {
            components: {
              Layout,
            },
            props: {
              user: Object,
            },
          }
        </script>
      `,
    },
    {
      name: 'React',
      language: 'jsx',
      code: dedent`
        import React from 'react'
        import Layout from '@/Shared/Layout'\n
        export default function Welcome({ user }) {
          return (
            <Layout title="Welcome">
              <h1>Welcome</h1>
              <p>Hello {user.name}, welcome to your first Inertia app!</p>
            </Layout>
          )
        }
      `,
    },
    {
      name: 'Svelte',
      language: 'html',
      code: dedent`
        <script>
          import Layout from '@/Shared/Layout.svelte'
          export let user
        </script>\n
        <Layout title="Welcome">
          <h1>Welcome</h1>
          <p>Hello {user.name}, welcome to your first Inertia app!</p>
        </Layout>
      `,
    },
  ]}
/>

## Creating layouts

While not required, for most projects it makes sense to create a site layout that your pages can extend. Here's an example of how you can do that. Again, there is nothing Inertia specific here. This is just a standard JavaScript component.

<TabbedCodeExamples
  examples={[
    {
      name: 'Vue',
      language: 'twig',
      code: dedent`
        <template>
          <main>
            <header>
              <inertia-link href="/">Home</inertia-link>
              <inertia-link href="/about">About</inertia-link>
              <inertia-link href="/contact">Contact</inertia-link>
            </header>
            <article>
              <slot />
            </article>
          </main>
        </template>\n
        <script>
          export default {
            props: {
              title: String,
            },
            watch: {
              title: {
                immediate: true,
                handler(title) {
                  document.title = title
                },
              },
            },
          }
        </script>
      `,
    },
    {
      name: 'React',
      language: 'jsx',
      code: dedent`
        import React, { useEffect } from 'react'
        import { InertiaLink } from 'inertia-react'\n
        export default function Layout({ title, children }) {
          useEffect(() => document.title = title, [title])\n
          return (
            <main>
              <header>
                <InertiaLink href="/">Home</InertiaLink>
                <InertiaLink href="/about">About</InertiaLink>
                <InertiaLink href="/contact">Contact</InertiaLink>
              </header>\n
              <article>{children}</article>
            </main>
          )
        }
      `,
    },
    {
      name: 'Svelte',
      language: 'html',
      code: dedent`
        <script>
          import { InertiaLink } from 'inertia-svelte'\n
          export let title
        </script>\n
        <svelte:head>
            <title>{title}</title>
        </svelte:head>\n
        <main>
          <header>
            <InertiaLink href="/">Home</InertiaLink>
            <InertiaLink href="/about">About</InertiaLink>
            <InertiaLink href="/contact">Contact</InertiaLink>
          </header>\n
          <article>
            <slot />
          </article>
        </main>
      `,
    },
  ]}
/>
